# Release Notes: mcli 7.16.0

**Release Date**: 2025-11-20

## üéâ New Features

### IPFS-Based Immutable Workflow Sync

This release introduces zero-configuration, decentralized workflow synchronization using IPFS (InterPlanetary File System).

**New Commands:**

```bash
# Push workflows to IPFS
mcli workflows sync push [-g] [-d "description"]

# Pull workflows from IPFS by CID
mcli workflows sync pull <cid> [-o output.json]

# View sync history
mcli workflows sync history [-n limit]

# Verify CID accessibility
mcli workflows sync verify <cid>
```

**Features:**
- ‚úÖ Zero configuration - no API keys or accounts required
- ‚úÖ Immutable storage - CID proves content authenticity
- ‚úÖ Decentralized - no single point of failure
- ‚úÖ Free forever - community-hosted IPFS gateways
- ‚úÖ Shareable - anyone can retrieve workflows via CID

### Enhanced Migration Command

Extended `mcli self migrate` with IPFS integration:

```bash
# Migrate AND push to IPFS in one command
mcli self migrate --to-ipfs -d "Production migration v1.0"

# Check migration status
mcli self migrate --status

# Migrate specific scope
mcli self migrate --scope global --to-ipfs
```

**Benefits:**
- One-command migration from local/GitHub storage to IPFS
- Automatic lockfile detection and upload
- Graceful error handling with helpful messaging
- Clear feedback with CIDs for retrieval

## üìö Documentation Updates

- Added comprehensive IPFS sync documentation to README
- Included migration helper guide
- Updated examples with IPFS commands
- Documented alternative storage backends (commented out for future use)

## üèóÔ∏è Technical Implementation

**New Modules:**
- `src/mcli/lib/ipfs_sync.py` - IPFS synchronization module
  - Upload/download via IPFS HTTP API
  - Multiple gateway support for redundancy
  - SHA256 hash verification
  - Local sync history tracking

**Enhanced Modules:**
- `src/mcli/workflow/sync_cmd.py` - Added IPFS sync commands
- `src/mcli/self/migrate_cmd.py` - Added `--to-ipfs` flag

**Alternative Storage Backends:**

Commented out for potential future implementation:
- Supabase sync (PostgreSQL-based)
- Git sync (commit-based versioning)
- Arweave sync (permanent blockchain storage)

## üîÑ Changes from 7.15.0

### Added
- IPFS sync module with multi-gateway support
- `mcli workflows sync push/pull/history/verify` commands
- `--to-ipfs` flag for `mcli self migrate`
- Local IPFS sync history tracking
- Hash verification for data integrity
- README section on IPFS cloud sync

### Technical Details
- Multiple IPFS gateways for redundancy (ipfs.io, dweb.link, cloudflare-ipfs, pinata)
- Content-addressed storage using CIDs
- SHA256 hash verification
- Graceful degradation if IPFS upload fails

## üì¶ Installation

```bash
# Install/upgrade from PyPI
pip install --upgrade mcli-framework

# Or with UV (recommended)
uv pip install --upgrade mcli-framework
```

## üöÄ Getting Started with IPFS Sync

```bash
# 1. Push your workflows to IPFS
mcli workflows sync push -g -d "My workflows v1.0"
# ‚Üí Returns: QmXyZ123... (immutable CID)

# 2. Share the CID with anyone
# 3. Anyone can pull your exact workflow state
mcli workflows sync pull QmXyZ123...

# 4. View your sync history
mcli workflows sync history
```

## ‚ö†Ô∏è Important Notes

- **IPFS Gateway Limitations**: Public IPFS HTTP API endpoints require authentication for uploads. For production use, consider:
  - Running your own IPFS node
  - Using a pinning service (Pinata, web3.storage, Infura)
  - Configuring local IPFS daemon

- **Retrieval Works Universally**: Pulling workflows works with any public IPFS gateway without authentication

## üêõ Bug Fixes

- Fixed Black formatting in migrate_cmd.py

## üîó Links

- [PyPI Package](https://pypi.org/project/mcli-framework/)
- [GitHub Repository](https://github.com/gwicho38/mcli)
- [Documentation](https://github.com/gwicho38/mcli/blob/main/README.md)
- [IPFS Documentation](https://docs.ipfs.tech/)

## üôè Acknowledgments

- IPFS community for decentralized infrastructure
- Built with requests for HTTP communication
- Inspired by the need for vendor-neutral workflow portability
