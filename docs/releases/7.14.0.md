# Release 7.14.0 - Command Naming Simplification

**Release Date:** 2025-11-06

## Overview

This release simplifies mcli's command structure with Unix-style naming conventions, making the CLI more intuitive and consistent with standard command-line tools.

## Breaking Changes (With Backward Compatibility)

### Command Renaming

All commands have been renamed for better UX, but **backward compatibility aliases are maintained**:

| Old Command | New Command | Backward Compatible |
|------------|-------------|---------------------|
| `mcli create` | `mcli new` | ‚úÖ Yes (alias kept) |
| `mcli remove` / `mcli delete` | `mcli rm` | ‚úÖ Yes (aliases kept) |
| `mcli workflow` (group) | `mcli repo` | ‚úÖ Yes (alias kept) |
| `mcli workflows` (group) | `mcli run` | ‚úÖ Yes (alias kept) |

### New Command Structure

```bash
# Creating workflows
mcli new my-command --description "My custom command"
mcli new backup --language shell --template

# Editing workflows
mcli edit my-command

# Removing workflows
mcli rm my-command

# Managing workflow repository
mcli repo import script.py --name my-workflow
mcli repo export my-workflow --output workflow.py
mcli repo list
mcli repo sync

# Running workflows
mcli run my-workflow              # Local workflow (in git repos)
mcli run -g my-workflow           # Global workflow
mcli run --global my-workflow     # Global workflow
```

## Features

### ‚ú® Unix-Style Commands

- **`mcli new`** - Create new workflow commands (replaces `create`)
- **`mcli rm`** - Remove workflow commands (replaces `remove`/`delete`)
- **`mcli repo`** - Manage workflow repository (replaces `workflow` group)
- **`mcli run`** - Run workflows (replaces `workflows` group)

### üîÑ Group Naming Consistency

- **Workflows group**: Standardized to `"workflows"` (plural)
- **Backward compatibility**: Still accepts `"workflow"` (singular) for legacy workflows
- **Auto-migration**: Existing workflows automatically updated to use `"workflows"` group

### üìÅ Storage Locations

Commands are stored in:
- **Global**: `~/.mcli/workflows/` (use `-g` or `--global` flag)
- **Local**: `.mcli/workflows/` (default when in git repositories)

## Migration Guide

### For Users

**No action required!** All old commands still work:

```bash
# Old commands (still work)
mcli create my-cmd
mcli remove my-cmd
mcli workflow import script.py
mcli workflows my-workflow

# New commands (recommended)
mcli new my-cmd
mcli rm my-cmd
mcli repo import script.py
mcli run my-workflow
```

### For Scripts/Automation

Update your scripts to use the new names for clarity:

```bash
# Before
mcli create deploy --template
mcli workflows deploy

# After
mcli new deploy --template
mcli run deploy
```

## Technical Details

### Group Filtering

The `mcli run` command now filters for workflows with:
- `group="workflows"` (current standard)
- `group="workflow"` (legacy, still supported)

### Files Changed

- `src/mcli/app/new_cmd.py` - Created (from create_cmd.py)
- `src/mcli/app/rm_cmd.py` - Created (from remove_cmd.py)
- `src/mcli/app/commands_cmd.py` - Renamed to `repo` group
- `src/mcli/workflow/workflow.py` - Renamed to `run` group
- `src/mcli/app/main.py` - Updated command registrations
- `src/mcli/lib/paths.py` - No changes (already using workflows/)

### Documentation Updated

- `docs/PORTABLE_COMMANDS_GUIDE.md`
- `docs/features/SHELL_COMMANDS.md`
- `docs/features/LOCAL_VS_GLOBAL_COMMANDS.md`
- `docs/CLEAN_COMMAND_ENHANCEMENT.md`
- `docs/releases/7.10.0.md`
- `docs/releases/7.11.0.md`
- `CLAUDE.md`
- `README.md`

## Testing

All commands tested and verified:
- ‚úÖ `mcli new --help`
- ‚úÖ `mcli rm --help`
- ‚úÖ `mcli repo --help`
- ‚úÖ `mcli run --help`
- ‚úÖ `mcli run -g redis --help`
- ‚úÖ Backward compatibility aliases work

## Upgrade Instructions

```bash
# Install the new version
pip install --upgrade mcli-framework

# Or with uv
uv tool upgrade mcli-framework
```

## Notes

- All existing workflows in `~/.mcli/workflows/` were automatically updated to use `group="workflows"`
- The `-g/--global` flag works correctly for accessing global workflows
- Local workflows (in git repos) are stored in `.mcli/workflows/`
- Backward compatibility ensures no breaking changes for existing users

## Why This Change?

1. **Consistency**: Aligns with Unix conventions (`rm`, `mv`, `cp`)
2. **Brevity**: Shorter commands for faster typing
3. **Clarity**: `run` vs `repo` makes the distinction clearer
4. **Discoverability**: More intuitive for new users

## Full Command Reference

### Top-Level Commands
```
mcli new              # Create new workflow commands
mcli edit             # Edit existing commands
mcli rm               # Remove workflow commands
mcli repo             # Manage workflow repository
mcli run              # Run workflows
mcli init             # Initialize workflows directory
mcli lock             # Manage lockfiles
mcli teardown         # Remove artifacts
mcli self             # Self-management commands
```

### Repo Commands (mcli repo)
```
mcli repo import      # Import Python scripts as workflows
mcli repo export      # Export workflows to Python scripts
mcli repo list        # List all workflows
mcli repo sync        # Sync with git
mcli repo push        # Push to git
mcli repo pull        # Pull from git
mcli repo info        # Show workflow info
mcli repo search      # Search workflows
```

### Run Commands (mcli run)
```
mcli run <workflow>           # Run local workflow
mcli run -g <workflow>        # Run global workflow
mcli run --global <workflow>  # Run global workflow
```

## Contributors

- Command naming simplification
- Group consistency updates
- Documentation updates
- Backward compatibility preservation

---

**See Also:**
- [Command Structure Documentation](../features/SHELL_COMMANDS.md)
- [Portable Commands Guide](../PORTABLE_COMMANDS_GUIDE.md)
- [Previous Release: 7.13.0](./7.13.0.md)
