# Release Notes - Version 7.8.4

**Release Date:** October 17, 2025
**Type:** Bugfix Release

## Overview

Completed command store implementation by adding missing `list` and `show` subcommands to the store functionality in `commands_cmd.py`. Fixed all failing store tests to ensure 100% test pass rate.

## Bug Fixes

### Store Commands

**Issue:** Store command tests failing due to missing `list` and `show` subcommands in `commands_cmd.py`

**Resolution:** Added complete implementations of `list` and `show` commands to match the functionality in `store_cmd.py`

**Commands Added:**
- `mcli commands store list` - List all commands (local or store with --store flag)
- `mcli commands store show <command>` - Display command file contents

**Test Fixes:**
- Fixed `test_get_store_path_from_config` to properly create `.mcli` directory structure
- Fixed `test_config_set_path` to ensure parent directory exists before config write
- All 23 store tests now passing (was 16/23, now 23/23)

## Technical Details

### Files Modified

1. **src/mcli/app/commands_cmd.py** (lines 1548-1620)
   - Added `list_commands()` function with --store option
   - Added `show_command()` function with --store option
   - Both functions follow same pattern as in `store_cmd.py`

2. **tests/unit/test_store_cmd.py**
   - Updated `test_get_store_path_from_config` to create `.mcli` directory structure
   - Updated `test_config_set_path` to ensure parent directory exists

### Test Results

**Before Fix:**
- Store tests: 16/23 passing (7 failures)
- PDF tests: 24/24 passing
- Total: 40/47 passing (85%)

**After Fix:**
- Store tests: 23/23 passing
- PDF tests: 24/24 passing
- Total: 47/47 passing (100%)

### Store Command Functionality

The complete store command suite is now available at `mcli commands store`:

```bash
# Initialize git repository
mcli commands store init [--remote <url>]

# Push commands to store
mcli commands store push [-m <message>] [--all]

# Pull commands from store
mcli commands store pull [--force]

# Bidirectional sync
mcli commands store sync [-m <message>]

# List commands (NEW in 7.8.4)
mcli commands store list [--store]

# Show command contents (NEW in 7.8.4)
mcli commands store show <command_name> [--store]

# View git status
mcli commands store status

# Configure store
mcli commands store config [--remote <url>] [--path <path>]
```

### List Command Details

```bash
# List local commands
mcli commands store list

# List store commands
mcli commands store list --store
```

Output format:
```
Local commands (/Users/user/.mcli/commands/):

  üìÑ pdf-processor.json                         32.5 KB  2025-10-17 14:23
  üìÑ emulator.json                             26.1 KB  2025-10-17 13:45
  üìÅ scripts                                        5 files
```

### Show Command Details

```bash
# Show local command
mcli commands store show pdf-processor.json

# Show store command
mcli commands store show pdf-processor.json --store
```

Output format:
```
üìÑ /Users/user/.mcli/commands/pdf-processor.json:

{
  "name": "pdf-processor",
  "version": "1.0.0",
  ...
}
```

## Breaking Changes

None. This is a pure bugfix release.

## Migration Guide

No migration needed. All existing functionality remains unchanged.

## Known Issues

None identified in this release.

## Dependencies

No dependency changes from 7.8.3.

## Commit History

- `5349cc7` - fix: Complete command store implementation with all subcommands

## Upgrade Notes

```bash
# If installed via pip
pip install --upgrade mcli-framework

# If installed via uv tool
uv tool upgrade mcli-framework

# Verify version
mcli version
```

Should display: `7.8.4`

## Testing

All tests passing:
- 23 store command tests
- 24 PDF compression tests
- Full test suite: 47/47 passing

---

**Previous Version:** 7.8.3
**Git Tag:** v7.8.4
